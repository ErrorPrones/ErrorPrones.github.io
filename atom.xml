<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>菜鸟爆炒好</title>
  
  <subtitle>清蒸好像也不错</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-08-13T01:21:33.958Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>菜鸟想飞的很高</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Shiro基础教程</title>
    <link href="http://yoursite.com/2019/08/13/Shiro%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/"/>
    <id>http://yoursite.com/2019/08/13/Shiro基础教程/</id>
    <published>2019-08-13T01:19:20.000Z</published>
    <updated>2019-08-13T01:21:33.958Z</updated>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h2 id="什么Shiro"><a href="#什么Shiro" class="headerlink" title="什么Shiro?"></a>什么Shiro?</h2><ol><li>Apache的强大灵活的开源安全框架</li><li>提供, 认证, 授权, 企业会话管理, 安全加密, 缓存管理</li></ol><p><strong>一般我们使用Shiro能够快捷方便的完成项目里的权限管理模块开发</strong></p><h2 id="Shiro与Spring-Security"><a href="#Shiro与Spring-Security" class="headerlink" title="Shiro与Spring Security"></a>Shiro与Spring Security</h2><table><thead><tr><th>Apache Shiro</th><th align="left">Spring Security</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>简单,灵活,轻量级</td><td align="left">复杂,笨重,重量级</td><td></td><td></td><td></td><td></td></tr><tr><td>可脱离Spring</td><td align="left">不可脱离Spring</td><td></td><td></td><td></td><td></td></tr><tr><td>粒度较粗</td><td align="left">粒度更细</td><td></td><td></td><td></td><td></td></tr></tbody></table><p>我个人更喜欢用Shiro, 主要因为它比较简单, 灵活, 有些没有的功能我们可以自己去拓展. 权限粒度较粗这一块, 因为我们基本上是基于资源去做权限控制. 如果我们要做数据权限的话, 一定会和我们业务代码耦合, 所以Spring Security的控制粒度更细也没有体现出来, 或者说没有体现的很明显. 而且Spring的官网它也是用的Shiro做安全管理. </p><h2 id="Shiro整体架构"><a href="#Shiro整体架构" class="headerlink" title="Shiro整体架构"></a>Shiro整体架构</h2><p><img src="/2019/08/13/Shiro基础教程/Shiro%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%5Ctimg.jpg" alt="在这里插入图片描述"></p><ul><li>首页最上面浅黄的部分可以理解为当前的—-操作用户</li></ul><p>Security Manager部分是我们Shiro的核心. 我们来看一下它的组件</p><ul><li>Authenticator(认证器)管理我们的登陆, 登出</li><li>Authorizer(授权器) 赋予我们主体的权限</li><li>SessionManager(会话管理器)可以不在不借助任何web容器下使用Session</li><li>SessionDAO(会话操作)提供了Session的操作, 主要是有增删改查</li><li>CacheManager(缓存管理器)利用缓存管理器可以缓存我们的角色数据和权限数据</li><li>PluggableRealms(插接式连接器)Shiro获取认证信息, 权限数据, 角色数据, 连接数据库</li><li>Cryptography(加密器)可以使用它, 非常快捷便利的行进加密</li></ul><p>用户提交请求到SecurityManager, SecurityManager调用认证器去做一个认证, 而认证器是通过插接式连接器, 从数据库中查询获取到认证信息. 授权器同样如此.</p><h2 id="Shiro认证"><a href="#Shiro认证" class="headerlink" title="Shiro认证"></a>Shiro认证</h2><ol><li>创建SecurityManager对象, 构建SecurityManager的环境</li><li>主体提交认证(也就是上图中的最上面部分,操作用户)到SecurityManager进行认证</li><li>SecurityManager调用Authenticator(认证器)进行认证, 进行认证的时候需要使用PluggableRealms(插接式连接器)获取认证数据, 然后再进行认证.</li></ol><p>认证小demo(可以改一下不正确的角色认证试试看会有什么效果)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">SimpleAccountRealm simpleAccountRealm = <span class="keyword">new</span> SimpleAccountRealm();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//添加一个用户</span></span><br><span class="line">        simpleAccountRealm.addAccount(<span class="string">"ljj"</span>,<span class="string">"123"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAuthentication</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//1. 构建SecurityManager环境</span></span><br><span class="line">        DefaultSecurityManager manager = <span class="keyword">new</span> DefaultSecurityManager();</span><br><span class="line">        manager.setRealm(simpleAccountRealm);<span class="comment">//设置Realm环境</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 主体提交认证请求</span></span><br><span class="line">        SecurityUtils.setSecurityManager(manager);<span class="comment">//设置SecurityManager环境</span></span><br><span class="line">        Subject subject = SecurityUtils.getSubject();<span class="comment">//获得主体</span></span><br><span class="line">        UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(<span class="string">"ljj"</span>,<span class="string">"123"</span>);<span class="comment">//存放验证数据</span></span><br><span class="line">        subject.login(token);<span class="comment">//进行验证</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//是否认证成功</span></span><br><span class="line">        System.out.println(subject.isAuthenticated());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//登出</span></span><br><span class="line">        subject.logout();</span><br><span class="line"></span><br><span class="line">        System.out.println(subject.isAuthenticated());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="Shiro授权"><a href="#Shiro授权" class="headerlink" title="Shiro授权"></a>Shiro授权</h2><p>shiro授权和基本一致, 只不过是将Authenticator(认证器)更换成了Authorizer(授权器) </p><p>授权小demo (可以改一下不正确的角色权限试试看会有什么效果)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Before</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">//添加一个用户, 并赋予角色权限,可以有多个角色</span></span><br><span class="line">       simpleAccountRealm.addAccount(<span class="string">"ljj"</span>,<span class="string">"123"</span>,<span class="string">"admin"</span>,<span class="string">"user"</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAuthentication</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="comment">//1. 构建SecurityManager环境</span></span><br><span class="line">       DefaultSecurityManager manager = <span class="keyword">new</span> DefaultSecurityManager();</span><br><span class="line">       manager.setRealm(simpleAccountRealm);<span class="comment">//设置Realm环境</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//2. 主体提交认证请求</span></span><br><span class="line">       SecurityUtils.setSecurityManager(manager);<span class="comment">//设置SecurityManager环境</span></span><br><span class="line">       Subject subject = SecurityUtils.getSubject();<span class="comment">//获得主体</span></span><br><span class="line">       UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(<span class="string">"ljj"</span>,<span class="string">"123"</span>);<span class="comment">//存放验证数据</span></span><br><span class="line">       subject.login(token);<span class="comment">//进行验证</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//是否认证成功</span></span><br><span class="line">       System.out.println(subject.isAuthenticated());</span><br><span class="line"></span><br><span class="line">       <span class="comment">//权限认证, 单个是checkRole, 多个才要加 s</span></span><br><span class="line">       subject.checkRoles(<span class="string">"admin"</span>,<span class="string">"user"</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h2 id="Shiro—IniRealm"><a href="#Shiro—IniRealm" class="headerlink" title="Shiro—IniRealm"></a>Shiro—IniRealm</h2><p>首页我们得在resources文件夹下创建一个*.ini文件<br><img src="/2019/08/13/Shiro基础教程/Shiro%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B%5C2019061820083868.png" alt="在这里插入图片描述"><br>内容如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[users]    //认证信息, 角色权限</span><br><span class="line">ljj=123,admin</span><br><span class="line">[roles]   //角色权限限制</span><br><span class="line">admin=user:delete,user:update</span><br></pre></td></tr></table></figure><p>java代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAuthentication</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//创建IniRealm对象</span></span><br><span class="line">        IniRealm iniRealm = <span class="keyword">new</span> IniRealm(<span class="string">"classpath:user.ini"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1. 构建SecurityManager环境</span></span><br><span class="line">        DefaultSecurityManager manager = <span class="keyword">new</span> DefaultSecurityManager();</span><br><span class="line">        manager.setRealm(iniRealm);<span class="comment">//设置Realm环境</span></span><br><span class="line">        <span class="comment">//2. 主体提交认证请求</span></span><br><span class="line">        SecurityUtils.setSecurityManager(manager);<span class="comment">//设置SecurityManager环境</span></span><br><span class="line">        Subject subject = SecurityUtils.getSubject();<span class="comment">//获得主体</span></span><br><span class="line">        UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(<span class="string">"ljj"</span>,<span class="string">"123"</span>);<span class="comment">//存放验证数据</span></span><br><span class="line">        subject.login(token);<span class="comment">//进行验证</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//是否认证成功</span></span><br><span class="line">        System.out.println(subject.isAuthenticated());</span><br><span class="line"></span><br><span class="line">        subject.checkRole(<span class="string">"admin"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//判断是否具有对应操作的权限</span></span><br><span class="line">        subject.checkPermission(<span class="string">"user:update"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>大家可以尝试认证错误信息以及错误权限看看会发生什么情况</strong></p><h2 id="Shiro—-jdbcRealm"><a href="#Shiro—-jdbcRealm" class="headerlink" title="Shiro—-jdbcRealm"></a>Shiro—-jdbcRealm</h2><p>感谢大家的关注, 关于连接数据库进行认证与授权的教程我将在Shiro实战教程中去编写, 点个赞支持一下作者. </p><h2 id="Shiro—自定义"><a href="#Shiro—自定义" class="headerlink" title="Shiro—自定义"></a>Shiro—自定义</h2><p>自定义Realm需要继承于AuthorizingRealm, 并且实现它的两个方法, 如下</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 授权</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> principalCollection 授权信息</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> AuthorizationInfo <span class="title">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 认证</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> authenticationToken 认证信息</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    * <span class="doctag">@throws</span> AuthenticationException</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> AuthenticationInfo <span class="title">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>如注释所描述一样, 在其方法中便可进行认证与授权了.</p><p><strong>认证</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomRealm</span> <span class="keyword">extends</span> <span class="title">AuthorizingRealm</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Map&lt;String, String&gt; userMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    &#123;</span><br><span class="line">        userMap.put(<span class="string">"ljj"</span>,<span class="string">"123"</span>);</span><br><span class="line">        <span class="comment">//realmName可以随意取名</span></span><br><span class="line">        <span class="keyword">super</span>.setName(<span class="string">"customRealm"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 认证</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> authenticationToken 认证信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> AuthenticationException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> AuthenticationInfo <span class="title">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.从主体传过来的认证信息中,获取用户名</span></span><br><span class="line">        String userName = (String) authenticationToken.getPrincipal();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.通过用户名到数据库中获取凭证</span></span><br><span class="line">        String password = getPasswordByUserName(userName);</span><br><span class="line">        <span class="comment">//如果不存在</span></span><br><span class="line">        <span class="keyword">if</span> (password == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        SimpleAuthenticationInfo authenticationInfo = <span class="keyword">new</span> SimpleAuthenticationInfo(</span><br><span class="line">                <span class="string">"ljj"</span>,password,<span class="string">"customRealm"</span>);</span><br><span class="line">        <span class="keyword">return</span> authenticationInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 模拟数据库查询凭证</span></span><br><span class="line"><span class="comment">     * 一般我们需要在这里连接数据进行验证, 由于我这只是一个小demo就直接写了一个map</span></span><br><span class="line"><span class="comment">     * 大家可以去连接数据库进行验证</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> userName</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getPasswordByUserName</span><span class="params">(String userName)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMap.get(userName);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>测试类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAuthentication</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">       CustomRealm customRealm = <span class="keyword">new</span> CustomRealm();</span><br><span class="line"></span><br><span class="line">       <span class="comment">//1. 构建SecurityManager环境</span></span><br><span class="line">       DefaultSecurityManager manager = <span class="keyword">new</span> DefaultSecurityManager();</span><br><span class="line">       manager.setRealm(customRealm);<span class="comment">//配置环境</span></span><br><span class="line">       <span class="comment">//2. 主体提交认证请求</span></span><br><span class="line">       SecurityUtils.setSecurityManager(manager);<span class="comment">//设置SecurityManager环境</span></span><br><span class="line">       Subject subject = SecurityUtils.getSubject();<span class="comment">//获得主体</span></span><br><span class="line">       UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(<span class="string">"ljj"</span>,<span class="string">"123"</span>);<span class="comment">//存放验证数据</span></span><br><span class="line">       subject.login(token);<span class="comment">//进行验证</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">//是否认证成功</span></span><br><span class="line">       System.out.println(subject.isAuthenticated());</span><br></pre></td></tr></table></figure><p><strong>授权:</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 授权</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> principalCollection 授权信息</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@Override</span></span><br><span class="line">   <span class="function"><span class="keyword">protected</span> AuthorizationInfo <span class="title">doGetAuthorizationInfo</span><span class="params">(PrincipalCollection principalCollection)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">       String userName = (String) principalCollection.getPrimaryPrincipal();</span><br><span class="line">       <span class="comment">//从数据库或者缓存中获取角色数据</span></span><br><span class="line">       Set&lt;String&gt; roles = getRolesByUserName(userName);</span><br><span class="line">       <span class="comment">//从数据库或者缓存中获取权限数据</span></span><br><span class="line">       Set&lt;String&gt; permissions = getPermissionsByUserName(userName);</span><br><span class="line">       <span class="comment">//创建SimpleAuthorizationInfo对象, 返回得到的数据</span></span><br><span class="line">       SimpleAuthorizationInfo simpleAuthorizationInfo = <span class="keyword">new</span> SimpleAuthorizationInfo();</span><br><span class="line">       <span class="comment">//设置权限</span></span><br><span class="line">       simpleAuthorizationInfo.setStringPermissions(permissions);</span><br><span class="line">       <span class="comment">//设置角色</span></span><br><span class="line">       simpleAuthorizationInfo.setRoles(roles);</span><br><span class="line">       <span class="keyword">return</span> simpleAuthorizationInfo;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 模拟数据库查询权限</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> userName</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> Set&lt;String&gt; <span class="title">getPermissionsByUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">       Set&lt;String&gt; sets = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       sets.add(<span class="string">"user:delete"</span>);</span><br><span class="line">       sets.add(<span class="string">"user:add"</span>);</span><br><span class="line">       <span class="keyword">return</span> sets;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 模拟数据库查询授权</span></span><br><span class="line"><span class="comment">    * 这里和getPasswordByUserName一样</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@param</span> userName</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> Set&lt;String&gt; <span class="title">getRolesByUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">       Set&lt;String&gt; sets = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">       sets.add(<span class="string">"admin"</span>);</span><br><span class="line">       sets.add(<span class="string">"user"</span>);</span><br><span class="line">       <span class="keyword">return</span> sets;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>测试类<br>在认证测试类中加上这两句, 同样,大家可以尝试一下错误的认证与授权, 看看会发生什么情况</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断是否具有此角色信息</span></span><br><span class="line">subject.checkRole(<span class="string">"admin"</span>);</span><br><span class="line">    <span class="comment">//判断是否具有对应操作的权限</span></span><br><span class="line">   subject.checkPermissions(<span class="string">"user:add"</span>,<span class="string">"user:delete"</span>);</span><br></pre></td></tr></table></figure><h2 id="Shiro—加密"><a href="#Shiro—加密" class="headerlink" title="Shiro—加密"></a>Shiro—加密</h2><p><strong>Shiro散列配置</strong></p><ul><li>HashedCredentialsMatcher </li><li>自定义Realm中使用散列</li><li>盐的使用</li></ul><p>首先我们先要创建一个HashedCredentialsMatcher工具类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testAuthentication</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        CustomRealm customRealm = <span class="keyword">new</span> CustomRealm();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1. 构建SecurityManager环境</span></span><br><span class="line">        DefaultSecurityManager manager = <span class="keyword">new</span> DefaultSecurityManager();</span><br><span class="line">        manager.setRealm(customRealm);<span class="comment">//配置环境</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建工具类</span></span><br><span class="line">        HashedCredentialsMatcher matcher = <span class="keyword">new</span> HashedCredentialsMatcher();</span><br><span class="line">        <span class="comment">//设置加密的名称,加密方式</span></span><br><span class="line">        matcher.setHashAlgorithmName(<span class="string">"md5"</span>);</span><br><span class="line">        <span class="comment">//设置加密的次数</span></span><br><span class="line">        matcher.setHashIterations(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//在自定义的Realm中配置HashedCredentialsMatcher对象</span></span><br><span class="line">        customRealm.setCredentialsMatcher(matcher);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. 主体提交认证请求</span></span><br><span class="line">        SecurityUtils.setSecurityManager(manager);<span class="comment">//设置SecurityManager环境</span></span><br><span class="line">        Subject subject = SecurityUtils.getSubject();<span class="comment">//获得主体</span></span><br><span class="line">        UsernamePasswordToken token = <span class="keyword">new</span> UsernamePasswordToken(<span class="string">"ljj"</span>,<span class="string">"123"</span>);<span class="comment">//存放验证数据</span></span><br><span class="line">        subject.login(token);<span class="comment">//进行验证</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//是否认证成功</span></span><br><span class="line">        System.out.println(subject.isAuthenticated());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        subject.checkRole("admin");</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        //判断是否具有对应操作的权限</span></span><br><span class="line"><span class="comment">//        subject.checkPermissions("user:add","user:delete");</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>在自定义类中创建main方法, 使用md5获得加密后的密码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      <span class="comment">//得到加密数据</span></span><br><span class="line">      Md5Hash md5Hash = <span class="keyword">new</span> Md5Hash(<span class="string">"123"</span>);</span><br><span class="line">      System.out.println(md5Hash.toString());</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>更改map里的密码为加密后的数据(数据库里的密码都是经过加密的只不过我这里的map是用来模拟)</p><p>但是由于密码只进行了一次加密, 安全级别还是达不到我们所需要的级别, 所以我们需要进行加盐.<br>获得加盐数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">       <span class="comment">//得到加盐数据</span></span><br><span class="line">       Md5Hash md5Hash = <span class="keyword">new</span> Md5Hash(<span class="string">"123"</span>,<span class="string">"ljj"</span>);</span><br><span class="line">       System.out.println(md5Hash.toString());</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>更改map里面的密码<br>我们还需要在认证方法中添加这样一句代码<br>authenticationInfo.setCredentialsSalt(ByteSource.Util.bytes(“ljj”)); 需要把所加的盐设置进SimpleAuthenticationInfo</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 认证</span></span><br><span class="line"><span class="comment">   *</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> authenticationToken 认证信息</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@throws</span> AuthenticationException</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> AuthenticationInfo <span class="title">doGetAuthenticationInfo</span><span class="params">(AuthenticationToken authenticationToken)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//1.从主体传过来的认证信息中,获取用户名</span></span><br><span class="line">      String userName = (String) authenticationToken.getPrincipal();</span><br><span class="line"></span><br><span class="line">      <span class="comment">//2.通过用户名到数据库中获取凭证</span></span><br><span class="line">      String password = getPasswordByUserName(userName);</span><br><span class="line">      <span class="comment">//如果不存在</span></span><br><span class="line">      <span class="keyword">if</span> (password == <span class="keyword">null</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//创建SimpleAuthenticationInfo,返回数据</span></span><br><span class="line">      SimpleAuthenticationInfo authenticationInfo = <span class="keyword">new</span> SimpleAuthenticationInfo(</span><br><span class="line">              <span class="string">"ljj"</span>, password, <span class="string">"customRealm"</span>);</span><br><span class="line">      <span class="comment">//需要把所加的盐设置进来               直接将字符串转换成ByteSource对象</span></span><br><span class="line">      authenticationInfo.setCredentialsSalt(ByteSource.Util.bytes(<span class="string">"ljj"</span>));</span><br><span class="line">      <span class="keyword">return</span> authenticationInfo;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[TOC]&lt;/p&gt;
&lt;h2 id=&quot;什么Shiro&quot;&gt;&lt;a href=&quot;#什么Shiro&quot; class=&quot;headerlink&quot; title=&quot;什么Shiro?&quot;&gt;&lt;/a&gt;什么Shiro?&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Apache的强大灵活的开源安全框架&lt;/li&gt;
&lt;li&gt;提
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>hexo安装教程</title>
    <link href="http://yoursite.com/2019/07/02/hexo%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"/>
    <id>http://yoursite.com/2019/07/02/hexo安装教程/</id>
    <published>2019-07-02T05:30:42.000Z</published>
    <updated>2019-07-04T06:16:43.841Z</updated>
    
    <content type="html"><![CDATA[<p>[TOC]</p><h1 id="1-node-js下载"><a href="#1-node-js下载" class="headerlink" title="1. node.js下载"></a>1. node.js下载</h1><p><img src="/2019/07/02/hexo安装教程/1.png" alt="1"></p><p>安装很简单, 选择好目录然后下一步下一步即可.</p><p>查看版本, 有则安装成功</p> <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Windows</span>\<span class="title">system32</span>&gt;<span class="title">node</span> -<span class="title">v</span></span></span><br><span class="line"><span class="function"><span class="title">v10</span>.15.3</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Windows</span>\<span class="title">system32</span>&gt;<span class="title">npm</span> -<span class="title">v</span></span></span><br><span class="line"><span class="function">6.4.1</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">更改镜像为国内淘宝的</span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Windows</span>\<span class="title">system32</span>&gt;<span class="title">npm</span> <span class="title">install</span> -<span class="title">g</span> --<span class="title">registry</span>=<span class="title">https</span>://<span class="title">registry.npm.taobao.org</span></span></span><br></pre></td></tr></table></figure><a id="more"></a><h1 id="2-下载hexo"><a href="#2-下载hexo" class="headerlink" title="2. 下载hexo"></a>2. 下载hexo</h1><p>接下来我们可以来下载hexo</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">C:\<span class="title">Windows</span>\<span class="title">system32</span>&gt;<span class="title">cnpm</span> <span class="title">install</span> -<span class="title">g</span> <span class="title">hexo</span>-<span class="title">cli</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">查看版本</span></span><br><span class="line"><span class="function"><span class="title">C</span>:\<span class="title">Windows</span>\<span class="title">system32</span>&gt;<span class="title">hexo</span> -<span class="title">v</span></span></span><br><span class="line"><span class="function"><span class="title">hexo</span>-<span class="title">cli</span>: 2.0.0</span></span><br><span class="line"><span class="function"><span class="title">os</span>: <span class="title">Windows_NT</span> 10.0.17134 <span class="title">win32</span> <span class="title">x64</span></span></span><br><span class="line"><span class="function"><span class="title">http_parser</span>: 2.8.0</span></span><br><span class="line"><span class="function"><span class="title">node</span>: 10.15.3</span></span><br><span class="line"><span class="function"><span class="title">v8</span>: 6.8.275.32-<span class="title">node</span>.51</span></span><br><span class="line"><span class="function"><span class="title">uv</span>: 1.23.2</span></span><br><span class="line"><span class="function"><span class="title">zlib</span>: 1.2.11</span></span><br><span class="line"><span class="function"><span class="title">ares</span>: 1.15.0</span></span><br><span class="line"><span class="function"><span class="title">modules</span>: 64</span></span><br><span class="line"><span class="function"><span class="title">nghttp2</span>: 1.34.0</span></span><br><span class="line"><span class="function"><span class="title">napi</span>: 3</span></span><br><span class="line"><span class="function"><span class="title">openssl</span>: 1.1.0<span class="title">j</span></span></span><br><span class="line"><span class="function"><span class="title">icu</span>: 62.1</span></span><br><span class="line"><span class="function"><span class="title">unicode</span>: 11.0</span></span><br><span class="line"><span class="function"><span class="title">cldr</span>: 33.1</span></span><br><span class="line"><span class="function"><span class="title">tz</span>: 2018<span class="title">e</span></span></span><br></pre></td></tr></table></figure><p>ok, 安装成功. 我们现在需要创建一个名叫 blog 的文件夹 用来存放我们的博客以及配置文件</p><p>如: 我创建在 D:\大型文件\blog</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">初始化</span><br><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">init</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">初始化成功后运行 现在我们来访问它给出的路径便可</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">s</span></span></span><br><span class="line"><span class="function"><span class="title">INFO</span>  <span class="title">Start</span> <span class="title">processing</span></span></span><br><span class="line"><span class="function"><span class="title">INFO</span>  <span class="title">Hexo</span> <span class="title">is</span> <span class="title">running</span> <span class="title">at</span> <span class="title">http</span>://<span class="title">localhost</span>:4000 . <span class="title">Press</span> <span class="title">Ctrl</span>+<span class="title">C</span> <span class="title">to</span> <span class="title">stop</span>.</span></span><br></pre></td></tr></table></figure><h1 id="3-创建博客"><a href="#3-创建博客" class="headerlink" title="3.创建博客"></a>3.创建博客</h1><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">new</span> "我的第一篇文章"</span></span><br><span class="line"><span class="function"><span class="title">INFO</span>  <span class="title">Created</span>: <span class="title">D</span>:\大型文件\<span class="title">blog</span>\<span class="title">source</span>\<span class="title">_posts</span>\我的第一篇文章.<span class="title">md</span></span></span><br><span class="line"><span class="function">此时我们便以及创建好了自己的博客,可以通过给出的路径找到.以后我们所写的博客都在这个文件夹中</span></span><br></pre></td></tr></table></figure><p>推荐大家下载 Typora 来编写自己的博客</p><p>此时我已经在新创建的博客中添加了一些内容, 现在我们需要访问它</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">清除缓存</span><br><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">clean</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">重新加载</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">g</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">运行</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">s</span></span></span><br><span class="line"><span class="function"><span class="title">INFO</span>  <span class="title">Start</span> <span class="title">processing</span></span></span><br><span class="line"><span class="function"><span class="title">INFO</span>  <span class="title">Hexo</span> <span class="title">is</span> <span class="title">running</span> <span class="title">at</span> <span class="title">http</span>://<span class="title">localhost</span>:4000 . <span class="title">Press</span> <span class="title">Ctrl</span>+<span class="title">C</span> <span class="title">to</span> <span class="title">stop</span>.</span></span><br></pre></td></tr></table></figure><p>现在我们再次访问一下</p><p><img src="/2019/07/02/hexo安装教程/2.png" alt="2"></p><h1 id="4-推送至GitHub"><a href="#4-推送至GitHub" class="headerlink" title="4. 推送至GitHub"></a>4. 推送至GitHub</h1><p>之前我们是在本地进行访问的, 我们来将它推送至GitHub上便可通过网络进行访问</p><p>首先我们需要下载好git <a href="https://git-scm.com/downloads" target="_blank" rel="noopener">https://git-scm.com/downloads</a></p><p><img src="/2019/07/02/hexo安装教程/3.png" alt="3"></p><p><img src="/2019/07/02/hexo安装教程/4.png" alt="4"></p><p>注意安装的路径中不能有中文, 否则无法提交</p><h3 id="4-1-注册GitHub"><a href="#4-1-注册GitHub" class="headerlink" title="4.1 注册GitHub"></a>4.1 注册GitHub</h3><p>注册一个GitHub账号后创建一个新的仓库</p><p><img src="/2019/07/02/hexo安装教程/5.png" alt="5"></p><p><img src="/2019/07/02/hexo安装教程/6.png" alt="6"></p><p>以后我们访问都是以仓库路径来访问 如: <a href="https://errorprones.github.io/" target="_blank" rel="noopener">https://errorprones.github.io/</a></p><p>创建好后我们需要下载一个插件</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">cnpm</span> <span class="title">install</span> --<span class="title">save</span> <span class="title">hexo</span>-<span class="title">deployer</span>-<span class="title">git</span></span></span><br></pre></td></tr></table></figure><h3 id="4-2-设置配置文件"><a href="#4-2-设置配置文件" class="headerlink" title="4.2 设置配置文件"></a>4.2 设置配置文件</h3><p>打开blog文件夹, 编辑 _config.yml文件, 到文件的最底部配置 </p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># type: git提交 repo 远程仓库地址  branch 选择分支</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">git</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="attr">https://github.com/ErrorPrones/ErrorPrones.github.io.git</span></span><br><span class="line"><span class="attr">  branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>注意yml文件的格式  每个: 后面要加一个空格, 设置好后保存退出</p><p>部署到GitHub上</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">d</span></span></span><br></pre></td></tr></table></figure><p>第一次提交会让你输入账号密码, 大家输入即可. 提交完成后刷新仓库, 然后<strong>通过仓库名去访问</strong></p><p><img src="/2019/07/02/hexo安装教程/7.png" alt="7"></p><p>找不到页面,等一会再刷新即可, 会有一些延迟</p><h1 id="5-更改主题"><a href="#5-更改主题" class="headerlink" title="5. 更改主题"></a>5. 更改主题</h1><p>在GitHub上有一个主题热度比较火, 我个人现在也在用 <a href="https://github.com/litten/hexo-theme-yilia" target="_blank" rel="noopener">https://github.com/litten/hexo-theme-yilia</a>可以下载这个. 或者也可以去<a href="https://hexo.io/themes/" target="_blank" rel="noopener">https://hexo.io/themes/</a>官网下载</p><p>首先我们先切换到blog文件夹中, 注意: 我们的操作都是要基于blog来进行的. 如果觉得有问题或者不想用了都可以直接干掉它.</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">下载主题</span><br><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt; <span class="title">git</span> <span class="title">clone</span> <span class="title">https</span>://<span class="title">github.com</span>/<span class="title">litten</span>/<span class="title">hexo</span>-<span class="title">theme</span>-<span class="title">yilia.git</span> <span class="title">themes</span>/<span class="title">yilia</span></span></span><br></pre></td></tr></table></figure><h3 id="5-1主题切换"><a href="#5-1主题切换" class="headerlink" title="5.1主题切换"></a>5.1主题切换</h3><p>打开blog文件夹, 编辑 _config.yml文件, 找到文件中的theme: 修改如下</p><p><img src="/2019/07/02/hexo安装教程/8.png" alt="8"></p><p>修改后保存我们看看下载好的主题</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">清除缓存</span><br><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">clean</span></span></span><br><span class="line"><span class="function">重新部署</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">g</span></span></span><br><span class="line"><span class="function">运行</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">s</span></span></span><br><span class="line"><span class="function"><span class="title">INFO</span>  <span class="title">Start</span> <span class="title">processing</span></span></span><br><span class="line"><span class="function"><span class="title">INFO</span>  <span class="title">Hexo</span> <span class="title">is</span> <span class="title">running</span> <span class="title">at</span> <span class="title">http</span>://<span class="title">localhost</span>:4000 . <span class="title">Press</span> <span class="title">Ctrl</span>+<span class="title">C</span> <span class="title">to</span> <span class="title">stop</span>.</span></span><br></pre></td></tr></table></figure><p>再次访问主题便已经更改了</p><h3 id="5-2推送到GitHub"><a href="#5-2推送到GitHub" class="headerlink" title="5.2推送到GitHub"></a>5.2推送到GitHub</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">d</span></span></span><br></pre></td></tr></table></figure><p>每次推送它并不是立马有效果, 会有一些延迟, 大家多刷新几次即可</p><p>当然除了这一种推送方法, 其实还可以使用git的命令进行推送, 有兴趣的朋友自己去试试</p><h1 id="6-主题修改"><a href="#6-主题修改" class="headerlink" title="6.主题修改"></a>6.主题修改</h1><h3 id="6-1-所有文章"><a href="#6-1-所有文章" class="headerlink" title="6.1 所有文章"></a>6.1 所有文章</h3><p>点击页面中的所有文章, 会出现这样一个页面</p><p><img src="/2019/07/02/hexo安装教程/9.png" alt="9"></p><p>根据指示进行操作即可</p><p><strong>注意</strong>根据以上步骤操作完后,有可能会有如下错误</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">d</span></span></span><br><span class="line"><span class="function"><span class="title">ERROR</span> <span class="title">Plugin</span> <span class="title">load</span> <span class="title">failed</span>: <span class="title">hexo</span>-<span class="title">deployer</span>-<span class="title">git</span></span></span><br><span class="line"><span class="function"><span class="title">Error</span>: <span class="title">ENOENT</span>: <span class="title">no</span> <span class="title">such</span> <span class="title">file</span> <span class="title">or</span> <span class="title">directory</span>, <span class="title">open</span> '<span class="title">D</span>:\大型文件\<span class="title">blog</span>\<span class="title">node_modules</span>\<span class="title">hexo</span>-<span class="title">deployer</span>-<span class="title">git</span>'</span></span><br><span class="line"><span class="function"><span class="title">ERROR</span> <span class="title">Deployer</span> <span class="title">not</span> <span class="title">found</span>: <span class="title">git</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">执行这段命令即可</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt; <span class="title">cnpm</span> <span class="title">install</span> <span class="title">hexo</span>-<span class="title">deployer</span>-<span class="title">git</span> --<span class="title">save</span></span></span><br><span class="line"><span class="function">| [0/1] <span class="title">Installing</span> <span class="title">is</span>-<span class="title">buffer</span>@^1.1.5<span class="title">platform</span> <span class="title">unsupported</span> <span class="title">hexo</span>-<span class="title">deployer</span>-<span class="title">git</span>@1.0.0 › <span class="title">hexo</span>-<span class="title">fs</span>@1.0.2 › <span class="title">chokidar</span>@2.1.6 › <span class="title">fsevents</span>@^1.2.7 <span class="title">Package</span> <span class="title">require</span> <span class="title">os</span>(<span class="title">darwin</span>) <span class="title">not</span> <span class="title">compatible</span> <span class="title">with</span> <span class="title">your</span> <span class="title">platform</span>(<span class="title">win32</span>)</span></span><br><span class="line"><span class="function">[<span class="title">fsevents</span>@^1.2.7] <span class="title">optional</span> <span class="title">install</span> <span class="title">error</span>: <span class="title">Package</span> <span class="title">require</span> <span class="title">os</span>(<span class="title">darwin</span>) <span class="title">not</span> <span class="title">compatible</span> <span class="title">with</span> <span class="title">your</span> <span class="title">platform</span>(<span class="title">win32</span>)</span></span><br><span class="line"><span class="function">√ <span class="title">Installed</span> 1 <span class="title">packages</span></span></span><br><span class="line"><span class="function">√ <span class="title">Linked</span> 57 <span class="title">latest</span> <span class="title">versions</span></span></span><br><span class="line"><span class="function">√ <span class="title">Run</span> 0 <span class="title">scripts</span></span></span><br><span class="line"><span class="function"><span class="title">Recently</span> <span class="title">updated</span> (<span class="title">since</span> 2019-06-25): 1 <span class="title">packages</span> (<span class="title">detail</span> <span class="title">see</span> <span class="title">file</span> <span class="title">D</span>:\大型文件\<span class="title">blog</span>\<span class="title">node_modules</span>\.<span class="title">recently_updates.txt</span>)</span></span><br><span class="line"><span class="function">√ <span class="title">All</span> <span class="title">packages</span> <span class="title">installed</span> (36 <span class="title">packages</span> <span class="title">installed</span> <span class="title">from</span> <span class="title">npm</span> <span class="title">registry</span>, <span class="title">used</span> 3<span class="title">s</span>(<span class="title">network</span> 3<span class="title">s</span>), <span class="title">speed</span> 44.68<span class="title">kB</span>/<span class="title">s</span>, <span class="title">json</span> 58(129.71<span class="title">kB</span>), <span class="title">tarball</span> 0<span class="title">B</span>)</span></span><br></pre></td></tr></table></figure><p>完成后便可进行查找博客</p><p><img src="/2019/07/02/hexo安装教程/10.png" alt="10"></p><h3 id="6-2设置头像-打赏码图片"><a href="#6-2设置头像-打赏码图片" class="headerlink" title="6.2设置头像,打赏码图片"></a>6.2设置头像,打赏码图片</h3><p>进入themes/yilia文件夹, 编辑 _config.yml(注意不要和blog文件夹中的 _config搞混了)</p><p>在blog\themes\yilia\source文件夹中创建一个文件夹来存放图片, 更改头像路径如下: </p><p><img src="/2019/07/02/hexo安装教程/11.png" alt="11"></p><p>打赏码同样操作</p><p><img src="/2019/07/02/hexo安装教程/12.png" alt="12"></p><h3 id="6-3-添加音乐"><a href="#6-3-添加音乐" class="headerlink" title="6.3 添加音乐"></a>6.3 添加音乐</h3><p>其实就是把网易云歌曲的外链放入到页面中<br>打开网页版网易云音乐, 找到你喜欢的一首歌并播放 </p><p><img src="/2019/07/02/hexo安装教程/13.png" alt="13"></p><p>复制代码</p><p><img src="/2019/07/02/hexo安装教程/14.png" alt="14"></p><p>修改yilia主题目录layout\_partial文件夹下的left-col.ejs文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;nav class=&quot;header-nav&quot;&gt;</span><br><span class="line">&lt;div class=&quot;social&quot;&gt;</span><br><span class="line">&lt;% for (var i in theme.subnav)&#123; %&gt;</span><br><span class="line">&lt;a class=&quot;&lt;%= i %&gt;&quot; target=&quot;_blank&quot; href=&quot;&lt;%- url_for(theme.subnav[i]) %&gt;&quot; title=&quot;&lt;%= i %&gt;&quot;&gt;&lt;i class=&quot;icon-&lt;%= i %&gt;&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span><br><span class="line">&lt;%&#125;%&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">    添加一个div粘贴进去</span><br><span class="line">&lt;div style=&quot;position:absolute; bottom:-120px;left:auto;width:85%&quot;&gt;</span><br><span class="line">       &lt;iframe frameborder=&quot;no&quot; border=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; width=330 height=86 src=&quot;//music.163.com/outchain/player?type=2&amp;id=5027380&amp;auto=1&amp;height=66&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/nav&gt;</span><br></pre></td></tr></table></figure><p>效果图如下:</p><p><img src="/2019/07/02/hexo安装教程/15.png" alt="15"></p><h3 id="6-4-记录访问量"><a href="#6-4-记录访问量" class="headerlink" title="6.4 记录访问量"></a>6.4 记录访问量</h3><p>使用友盟第三方的统计插件，网址：`<a href="https://www.umeng.com/" target="_blank" rel="noopener">https://www.umeng.com/</a><br>进入网站先注册账号然后根据下列图片进入添加站点。</p><p><img src="/2019/07/02/hexo安装教程/16.png" alt="16"></p><p>然后点击  立即使用</p><p><img src="/2019/07/02/hexo安装教程/17.png" alt="17"></p><p>编辑 blog\themes\yilia\layout_partial 中的 footer.ejs 文件, 将复制好的代码粘贴进去</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;footer id=&quot;footer&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;outer&quot;&gt;</span><br><span class="line">    &lt;div id=&quot;footer-info&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;footer-left&quot;&gt;</span><br><span class="line">    &amp;copy; &lt;%= date(new Date(), &apos;YYYY&apos;) %&gt; &lt;%= config.author || config.title %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;footer-right&quot;&gt;</span><br><span class="line">      &lt;a href=&quot;http://hexo.io/&quot; target=&quot;_blank&quot;&gt;Hexo&lt;/a&gt;  Theme &lt;a href=&quot;https://github.com/litten/hexo-theme-yilia&quot; target=&quot;_blank&quot;&gt;Yilia&lt;/a&gt; by Litten</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">    上面是原文</span><br><span class="line">    注意, 需要创建一个div</span><br><span class="line">    下面是添加的</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;var cnzz_protocol = ((&quot;https:&quot; == document.location.protocol) ? &quot;https://&quot; : &quot;http://&quot;);document.write(unescape(&quot;%3Cspan id=&apos;cnzz_stat_icon_1277776258&apos;%3E%3C/span%3E%3Cscript src=&apos;&quot; + cnzz_protocol + &quot;s23&quot;));&lt;/script&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/footer&gt;</span><br></pre></td></tr></table></figure><p>效果图</p><p><img src="/2019/07/02/hexo安装教程/18.png" alt="18"></p><p>接下来保存便可推送至远程仓库</p><p>注意: 推送远程仓库三个步骤, 不要搞反了</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">清除缓存</span><br><span class="line"><span class="function">D:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">clean</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">加载文件</span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">g</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">推送至<span class="title">github</span></span></span><br><span class="line"><span class="function"><span class="title">D</span>:\大型文件\<span class="title">blog</span>&gt;<span class="title">hexo</span> <span class="title">d</span></span></span><br></pre></td></tr></table></figure><h3 id="6-5-上传图片到博客"><a href="#6-5-上传图片到博客" class="headerlink" title="6.5 上传图片到博客"></a>6.5 上传图片到博客</h3><p>编辑 blog\_config.yml 文件 如下图:  (注释打错了, 应为<strong>打开资源文件</strong>)因为早已截图下来了,不想再去截图所有偷个懒 , 2333333333</p><p><img src="/2019/07/02/hexo安装教程/19.png" alt="19"></p><p>进入 blog\source\_posts文件夹, 可以看到我们所写的博客,然后创建一个文件夹与博客名相同(主要是为了区分和查找), 所有图片便可放在这个创建的文件夹之中了</p><p><img src="/2019/07/02/hexo安装教程/20.png" alt="20"></p><p>将Typora中图片的路径改为  文件夹名\文件名</p><p><img src="/2019/07/02/hexo安装教程/21.png" alt="21"></p><h3 id="6-6-背景动画"><a href="#6-6-背景动画" class="headerlink" title="6.6 背景动画"></a>6.6 背景动画</h3>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;[TOC]&lt;/p&gt;
&lt;h1 id=&quot;1-node-js下载&quot;&gt;&lt;a href=&quot;#1-node-js下载&quot; class=&quot;headerlink&quot; title=&quot;1. node.js下载&quot;&gt;&lt;/a&gt;1. node.js下载&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;/2019/07/02/hexo安装教程/1.png&quot; alt=&quot;1&quot;&gt;&lt;/p&gt;
&lt;p&gt;安装很简单, 选择好目录然后下一步下一步即可.&lt;/p&gt;
&lt;p&gt;查看版本, 有则安装成功&lt;/p&gt;
 &lt;figure class=&quot;highlight cmd&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;C:\&lt;span class=&quot;title&quot;&gt;Windows&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;system32&lt;/span&gt;&amp;gt;&lt;span class=&quot;title&quot;&gt;node&lt;/span&gt; -&lt;span class=&quot;title&quot;&gt;v&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;v10&lt;/span&gt;.15.3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;C&lt;/span&gt;:\&lt;span class=&quot;title&quot;&gt;Windows&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;system32&lt;/span&gt;&amp;gt;&lt;span class=&quot;title&quot;&gt;npm&lt;/span&gt; -&lt;span class=&quot;title&quot;&gt;v&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;6.4.1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;更改镜像为国内淘宝的&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;title&quot;&gt;C&lt;/span&gt;:\&lt;span class=&quot;title&quot;&gt;Windows&lt;/span&gt;\&lt;span class=&quot;title&quot;&gt;system32&lt;/span&gt;&amp;gt;&lt;span class=&quot;title&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;install&lt;/span&gt; -&lt;span class=&quot;title&quot;&gt;g&lt;/span&gt; --&lt;span class=&quot;title&quot;&gt;registry&lt;/span&gt;=&lt;span class=&quot;title&quot;&gt;https&lt;/span&gt;://&lt;span class=&quot;title&quot;&gt;registry.npm.taobao.org&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
